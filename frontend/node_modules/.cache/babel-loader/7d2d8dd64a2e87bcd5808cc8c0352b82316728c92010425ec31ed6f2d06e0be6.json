{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nconst FetchUpd = ({\n  url,\n  value,\n  ...props\n}) => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const updateValue = async () => {\n      setLoading(true);\n      try {\n        const response = await fetch(url, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            value,\n            ...props\n          })\n        });\n        if (!response.ok) {\n          throw new Error('Не вдалося оновити лайки/дизлайки на сервері');\n        }\n      } catch (error) {\n        setError(error.message);\n        console.error('Помилка при оновленні лайків/дизлайків:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    updateValue();\n  }, [value, url, props]); // слідкуємо за змінами значень\n\n  return {\n    loading,\n    error\n  };\n};\n_s(FetchUpd, \"qZrPpo95SUtrpJEa6gIa0oOoDUI=\");\n_c = FetchUpd;\nexport default FetchUpd;\nvar _c;\n$RefreshReg$(_c, \"FetchUpd\");","map":{"version":3,"names":["useEffect","useState","FetchUpd","url","value","props","_s","loading","setLoading","error","setError","updateValue","response","fetch","method","headers","body","JSON","stringify","ok","Error","message","console","_c","$RefreshReg$"],"sources":["/Users/vasylfalyovskij/Desktop/React-App/frontend/src/components/FetchUpd.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\n\nconst FetchUpd = ({ url, value, ...props }) => {\n\tconst [loading, setLoading] = useState(false)\n\tconst [error, setError] = useState(null)\n\n\tuseEffect(() => {\n\t\tconst updateValue = async () => {\n\t\t\tsetLoading(true)\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t...props,\n\t\t\t\t\t}),\n\t\t\t\t})\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error('Не вдалося оновити лайки/дизлайки на сервері')\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tsetError(error.message)\n\t\t\t\tconsole.error('Помилка при оновленні лайків/дизлайків:', error)\n\t\t\t} finally {\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tupdateValue()\n\t}, [value, url, props]) // слідкуємо за змінами значень\n\n\treturn { loading, error }\n}\n\nexport default FetchUpd\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,GAAG;EAAEC,KAAK;EAAE,GAAGC;AAAM,CAAC,KAAK;EAAAC,EAAA;EAC9C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACf,MAAMW,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC/BH,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACH,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACV,GAAG,EAAE;UACjCW,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACR,cAAc,EAAE;UACjB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACpBd,KAAK;YACL,GAAGC;UACJ,CAAC;QACF,CAAC,CAAC;QAEF,IAAI,CAACO,QAAQ,CAACO,EAAE,EAAE;UACjB,MAAM,IAAIC,KAAK,CAAC,8CAA8C,CAAC;QAChE;MACD,CAAC,CAAC,OAAOX,KAAK,EAAE;QACfC,QAAQ,CAACD,KAAK,CAACY,OAAO,CAAC;QACvBC,OAAO,CAACb,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;MAChE,CAAC,SAAS;QACTD,UAAU,CAAC,KAAK,CAAC;MAClB;IACD,CAAC;IAEDG,WAAW,CAAC,CAAC;EACd,CAAC,EAAE,CAACP,KAAK,EAAED,GAAG,EAAEE,KAAK,CAAC,CAAC,EAAC;;EAExB,OAAO;IAAEE,OAAO;IAAEE;EAAM,CAAC;AAC1B,CAAC;AAAAH,EAAA,CAlCKJ,QAAQ;AAAAqB,EAAA,GAARrB,QAAQ;AAoCd,eAAeA,QAAQ;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}